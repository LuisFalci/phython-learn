$(document).ready(function () {
    $('#menu_lateral').slicknav({
        prependTo: '#menu_nav',
        label: ''
    });
    $('#menu ul li.l_aulas').mouseenter(function () {
        $('#menu ul li.l_aulas ul').slideDown(200);
    });
    $('<div class="pcimobi"><a href="/"><img src="/img/pci_mobi.png"></a><div class="pcisearch"><a href="/pesquisa/"><img src="/img/icon_search.png"></a></div></div>').prependTo('.slicknav_menu');
    /* lateral */
    var keywords = ["pedido", "apostilas", "apostiladigital", "contato"];
    var url = document.location.href;
    if (!keywords.some(keyword => url.includes(keyword)) && $('#lista_lateral_noticias').hasClass('lateral_social')) {
        var lista_lateral;
        lista_lateral = '<div id="lateral_compartilhar" style="margin:30px 0 30px 25px; padding-bottom: 300px;">';
        lista_lateral += '<a href="https://www.youtube.com/pciconcursos?sub_confirmation=1" rel="nofollow" target="_blank"><img src="/img/icon_youtube.png" width="50" height="50" style="margin:0; padding:0;"></a>';
        lista_lateral += '<a href="https://x.com/share?url=' + window.location.href + '" rel="nofollow" target="_blank"><img src="/img/icon_x.png" width="50" height="50" style="margin:0; padding:0;"></a>';
        lista_lateral += '<a href="https://www.facebook.com/share.php?u=' + window.location.href + '" rel="nofollow" target="_blank"><img src="/img/icon_facebook.png" width="50" height="50" style="margin:0; padding:0;"></a>';
        lista_lateral += '<br><br><br>';
        lista_lateral += '<a href="https://news.google.com/publications/CAAqBwgKMPrhmQswpOyxAw?hl=pt-BR&gl=BR&ceid=BR%3Apt-419" rel="nofollow" target="_blank"><img src="/img/icon_google_noticias.png" width="150" height="100" style="margin:0; padding:0;"></a>';
        lista_lateral += '<a href="https://whatsapp.com/channel/0029VaHULn4BFLgS0MkR0M0d" rel="nofollow" target="_blank"><img src="/img/icon_whatsapp_c.png" width="150" height="60" style="margin:0; padding:0;"></a>';
        lista_lateral += '</div>';
        $('#lista_lateral_noticias').append(lista_lateral);
    }
    $('#lgpd, #lgpd-button').bind('click', function (e) {
        Cookies.set('lgpd', '1', {expires: 1000});
        localStorage.setItem('lgpd', true);
        $('#lgpd').css('display', 'none');
    });
    if (Cookies.get('lgpd') == undefined && localStorage.getItem('lgpd') == null) {
        $('#lgpd').css('display', 'block');
        $('#lgpd').html('Usamos cookies e outras tecnologias para melhorar sua experiência e personalizar publicidade<br><a href="/politica/" class="lgpd-privacidade-link">Política de Privacidade</a><button id="lgpd-button">Continuar</button>');
    }
    $(".lk_link").on('click', function (e) {
        var url = this.getAttribute('data-url');
        if (url && e.target.tagName != 'A') {
            window.location.href = url;
        }
    });

});

// Compartilhar no WhatsApp
function shareOnWhatsApp(message) {
    var isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
    if (isMobile) {
        var linkWhatsapp = "whatsapp://send?text=" + message;
    } else {
        var linkWhatsapp = "https://web.whatsapp.com/send?text=" + message;
    }
    window.open(linkWhatsapp, "_blank");
}

// Compartilhar no Facebook
function shareOnFacebook(title, text, url) {
    var isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
    if (navigator.share && isMobile) {
        navigator.share({
            title: title,
            text: text,
            url: url,
        })
            .then(() => console.log('Compartilhamento realizado com sucesso!'))
            .catch((error) => console.log('Erro ao compartilhar: ', error));
    } else {
        window.open('https://www.facebook.com/sharer/sharer.php?u=' + url, 'facebook-share-dialog', 'width=626,height=436');
        return false;
    }
}

// Compartilhar
function shareLink(title, text, url) {
    if (navigator.share) {
        navigator.share({
            title: title,
            text: text,
            url: url,
        })
            .then(() => console.log('Compartilhamento realizado com sucesso!'))
            .catch((error) => console.log('Erro ao compartilhar: ', error));
    } else {
        return false;
    }
}


