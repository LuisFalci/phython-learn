var isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),o={},e={},priceAuto,autoFrameAnim,autoHoverAnim,nextOffer=0,currentScreen=0,oldScreenY=-1,currentScreenOffers=[],gallery={enabled:!1},planche={enabled:!1},enlarger={enabled:!1},multiscreen={enabled:!1},currentZoom=window.devicePixelRatio,choosen=[],banner={elements:{},flags:{arrowsVisible:!1,displayPrice:!0,dontChangeOffer:!1,dontShowArrows:!1,mouseOnBanner:!1,theEnd:!1},options:{enlargerAnimEnabled:!1,hoverAnimInterval:1e3,infiniteAnimAllowed:!0,logoAnimFadeSpeed:1e3,logoAnimInterval:3e3,logoGIFanimation:"false",maxAnimTime:24e3,offerPriceAnimEnabled:!0,offerPriceAnimInterval:1e3,offerPriceEnabled:!0,offersCount:null,screensMargin:15},init:function(n){banner.options=$.extend(banner.options,n),o=banner.options,o.arrowsEnabled=o.arrowsEnabled.toLowerCase()==="true",o.logoGIFanimation=o.logoGIFanimation.toLowerCase()==="true",banner.cacheElem(),gallery.enabled&&gallery.initImages(),o.enlargeHover=String(o.creativeBannerTrmplateAnimationType).toLowerCase()==="hover_enlarger",banner.initStandardOpt(),banner.offerPriceAnim.start(),e.allOffers.css("top","0px"),banner.flags.arrowsVisible&&multiscreen.enabled&&multiscreen.arrowActions.disableInactive(),multiscreen.enabled&&multiscreen.checkScreen(0)},bindUIActions:function(){e.offer.on("mouseenter",function(n){var r=$(this).data("id");banner.changeOfferZindex(r),nextOffer=r===o.offersCount-1?0:r+1,clearTimeout(autoFrameAnim),banner.frameAnim.frameHover(r),n.preventDefault()}),e.offer.on("mouseleave",function(){banner.frameAnim.frameHover(-1)}),e.offerHover.on("mouseenter",function(n){banner.flags.mouseOnBanner=!0,banner.frameAnim.stop(),n.preventDefault()}),e.banner.on("mouseenter",function(){banner.flags.mouseOnBanner=!0,multiscreen.enabled&&(multiscreen.arrowActions.visibility(),e.borders.hasClass("offer-jumping-frame")&&banner.frameAnim.frameHover(-1))}),e.banner.on("mouseleave",function(n){banner.restartOffersAnim(),n.preventDefault()})},restartOffersAnim:function(){if(banner.flags.mouseOnBanner=!1,multiscreen.enabled&&multiscreen.arrowActions.visibility(),banner.flags.theEnd){banner.offerPriceAnim.hideOldPrice();return}(!enlarger.enabled||o.enlargeHover)&&!e.borders.hasClass("offer-jumping-frame")&&banner.frameAnim.start()},initStandardOpt:function(){var n,r=0;for(banner.screenOffers=o.screenOffers.split(","),banner.screensCount=banner.screenOffers.length,n=0;n<=banner.screensCount;n+=1)currentScreenOffers[n]=banner.screenOffers[n]-r,r=banner.screenOffers[n];e.logoContainer.first().css("display","inline-block"),o.containerHeight+=o.screensMargin,e.logoContainer.length>1&&!o.logoGIFanimation&&this.logoAnim.start(e.logoContainer),o.infiniteAnimAllowed||setTimeout(function(){banner.flags.theEnd=o.animAgain.toLowerCase()==="false",$(".offer-oldprice").css("display","none"),$(".oldprice-set .offer-price").css("display","inline-block"),banner.logoAnim.stop(e.logoContainer),banner.frameAnim.stop(),$("body").addClass("end-of-animation"),banner.flags.theEnd||banner.offerPriceAnim.stop(),(planche.enabled||planche.vid)&&(planche.plancheAnim.hide(),planche.enabled=!1,planche.flags.active=!1,clearTimeout(planche.autoShowTimeout)),enlarger.enabled&&!banner.flags.mouseOnBanner&&(enlarger.clearAllTimeout(),enlarger.enlargerAnim.hide()),gallery.enabled&&gallery.galleryAnim.stop(),!banner.flags.mouseOnBanner&&multiscreen.enabled&&multiscreen.checkScreen(0)},o.maxAnimTime),o.offerPriceEnabled||(this.hideElem($(".enlarger-price")),this.hideElem($(".offer-oldprice,.offer-price"))),$.fn.anim=$.fn.transit,(!o.enlargerAnimEnabled&&String(o.creativeBannerTrmplateAnimationType).toLowerCase()!=="none"||o.enlargeHover)&&(gallery.enabled&&!o.enlargeHover?(gallery.bindGalleryUIActions(),gallery.galleryAnim.start()):(o.enlargeHover||banner.bindUIActions(),banner.frameAnim.start())),multiscreen.enabled&&multiscreen.arrowActions.init()},offerPriceAnim:{start:function(){if(banner.options.offerPriceAnimEnabled){if(priceAuto=setTimeout(function(){banner.offerPriceAnim.start()},banner.options.offerPriceAnimInterval||1e3),banner.flags.theEnd&&!banner.flags.mouseOnBanner){banner.offerPriceAnim.hideOldPrice();return}$(".offer-oldprice").css("display",banner.flags.displayPrice?"none":"inline-block"),$(".oldprice-set .offer-price").css("display",banner.flags.displayPrice?"inline-block":"none"),banner.flags.displayPrice=!banner.flags.displayPrice}},stop:function(){banner.options.offerPriceAnimEnabled&&(clearTimeout(priceAuto),banner.offerPriceAnim.hideOldPrice())},hideOldPrice:function(){banner.options.offerPriceAnimEnabled&&($(".offer-oldprice").css("display","none"),$(".oldprice-set .offer-price").css("display","inline-block"),banner.flags.displayPrice=!1)}},cacheElem:function(){var n;for(this.elements={allContainer:$(".alloffers-container"),allOffers:$(".alloffers-container-relative"),arrowNext:$(".nav-arrow.next"),arrowNextBlock:$(".nav-block.next"),arrowPrev:$(".nav-arrow.prev"),arrowPrevBlock:$(".nav-block.prev"),arrows:$(".arrows-container"),banner:$("body"),borders:$(".offer-border"),gallery:$("#galImglery-zoom"),logoContainer:$(".logo-container .logo-box"),offer:$(".offer"),offerHover:$(".hover-info")},e=$.extend(e,this.elements),e.offerArr=[],n=0;n<e.offer.length;n+=1)e.offerArr.push($(e.offer[n]))},showElem:function(n){n.addClass("show").css("display","inline-block")},hideElem:function(n){n.addClass("hide").css("display","none")},logoAnim:{idx:0,timeout:null,start:function(n){$(n[banner.logoAnim.idx]).fadeIn(o.logoAnimFadeSpeed,function(){banner.logoAnim.idx=banner.logoAnim.idx<n.length-1?banner.logoAnim.idx+1:0,banner.logoAnim.timeout=setTimeout(function(){n.fadeOut(o.logoAnimFadeSpeed),banner.logoAnim.start(n)},o.logoAnimInterval)})},stop:function(n){o.logoGIFanimation?n.length===2&&($(n[0]).fadeOut(),$(n[1]).fadeIn()):(n.clearQueue().stop(!0,!0).not($(n[0])).fadeOut(),n.first().fadeIn(o.logoAnimFadeSpeed),clearTimeout(banner.logoAnim.timeout))}},frameAnim:{start:function(){o.offersCount!==0&&(e.banner.addClass("hover-anim"),clearTimeout(autoFrameAnim),multiscreen.enabled&&multiscreen.checkScreen(nextOffer),autoFrameAnim=setTimeout(function(){banner.frameAnim.start(),!(banner.flags.mouseOnBanner&&multiscreen.enabled&&!gallery.enabled&&!window.isMobile)&&(banner.frameAnim.frameHover(nextOffer),banner.changeOfferZindex(nextOffer),window.offersCount>1?nextOffer=nextOffer===o.offersCount-1?0:nextOffer+1:nextOffer=nextOffer===0?-1:0)},banner.screensCount>1?o.hoverAnimInterval/currentScreenOffers[currentScreen]*3:o.hoverAnimInterval))},frameHover:function(n){e.borders.removeClass("offer-jumping-frame"),n!==-1&&(e.offer[n].border||(e.offer[n].border=$(e.offer[n]).find(".offer-border")),e.offer[n].border.addClass("offer-jumping-frame"))},stop:function(){e.banner.removeClass("hover-anim"),banner.frameAnim.frameHover(-1),clearTimeout(autoFrameAnim)}},changeOfferZindex:function(n){var r;for(r=0;r<o.offersCount;r+=1)$(e.offer[r]).css("z-index",r===n?100:r)}};
